server:
  port: 8080

spring:
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
        #namespace: bc7613d2-2e22-4292-a748-48b78170f14c  #ָ��namespace��id
        cluster-name: NJ-CLUSTER #同集群
        metadata:
          current-version: V1
    sentinel:
      transport:
        dashboard: localhost:9999
      datasource:
        # 名称随意 ，-*-rules 表示sentinel 那边写的配置
        flow:
          nacos:
            server-addr: localhost:8848
            dataId: ${spring.application.name}-flow-rules
            groupId: SENTINEL_GROUP
            rule-type: flow
        degrade:
          nacos:
            server-addr: localhost:8848
            dataId: ${spring.application.name}-degrade-rules
            groupId: SENTINEL_GROUP
            rule-type: degrade
        system:
          nacos:
            server-addr: localhost:8848
            dataId: ${spring.application.name}-system-rules
            groupId: SENTINEL_GROUP
            rule-type: system
        authority:
          nacos:
            server-addr: localhost:8848
            dataId: ${spring.application.name}-authority-rules
            groupId: SENTINEL_GROUP
            rule-type: authority
        param-flow:
          nacos:
            server-addr: localhost:8848
            dataId: ${spring.application.name}-param-flow-rules
            groupId: SENTINEL_GROUP
            rule-type: param-flow
  application:
    name: order-center

#自定义Ribbon的细粒度配置 （推荐配置文件方式）
#ribbon:
  #NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule  #其他默认负载均衡策略
#product-center:
#  ribbon:
#    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule  #product 模块负载均衡策略
#pay-center:
#  ribbon:
#    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RoundRobinRule  #pay 模块负载均衡策略


#开启ribbon饥饿加载,解决微服务调用第一次很慢的情况下
ribbon:
  eager-load:
    enabled: true
    #可以指定多个微服务用逗号分隔
    clients: product-center
    #NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule  #其他默认负载均衡策略


#是否开启@SentinelRestTemplate注解
resttemplate:
  sentinel:
    enabled: true